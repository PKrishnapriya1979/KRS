{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Documents\\\\KRS\\\\Application1\\\\client\\\\src\\\\components\\\\login.js\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\nimport React from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class Login extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      isUser: false,\n      emailid: \"\",\n      pwd: \"\",\n      count: 0,\n      empid: \"\",\n      empname: \"\"\n    };\n\n    this.getEmailid = Event => {\n      this.setState({\n        emailid: Event.target.value\n      });\n    };\n\n    this.getPwd = Event => {\n      this.setState({\n        pwd: Event.target.value\n      });\n    };\n  }\n\n  validateuser(Event) {\n    const user = {\n      emailid: this.state.emailid,\n      pwd: this.state.pwd\n    };\n    alert(user.emailid + \",\" + user.pwd);\n    axios.post('http://localhost:3001/UserValid', {\n      emailid: user.emailid,\n      pwd: user.pwd\n    }).then(response => {\n      var empid = 0;\n      var ename = \"\";\n      console.log(response.data[0]);\n      var empid = response.data[0];\n      var empname = response.data[1];\n      this.setState({\n        empname: empname\n      });\n      this.setState({\n        empid: empid\n      });\n      let obj = {\n        empname: empname,\n        empid: empid\n      };\n      sessionStorage.setItem('userdata', JSON.stringify(obj));\n      empid !== 0 ? this.setState({\n        isUser: true\n      }) : this.setState({\n        isUser: false\n      });\n      this.state.isUser ? this.setState({\n        count: this.state.count = +1\n      }) : alert(\"Try Again.....\");\n      console.log(this.state.count);\n    });\n  }\n\n  render() {\n    const user = this.state;\n    return this.state.count <= 0 && !this.state.isUser ? /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"root\",\n      class: \"border w-50 mx-auto mt-5 border-2 justify-content-center rounded p-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        class: \"mb-4\",\n        children: \"Welcome!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"row p-3 \",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"col  mb-2 \",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"input-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                class: \"frm_int input-group-text\",\n                for: \"\",\n                children: \"Mail ID:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                class: \"form-control\",\n                type: \"email\",\n                name: \"emailid\",\n                placeholder: \"mail id\",\n                onChange: this.getEmailid\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"row p-3\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"col  mb-2 \",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"input-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                class: \"frm_int input-group-text\",\n                for: \"\",\n                children: \" Password:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                class: \"form-control\",\n                type: \"password\",\n                placeholder: \"Password\",\n                name: \"pwd\",\n                onChange: this.getPwd\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"row p-1\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"col \",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/Registry\",\n              children: \"Forgot Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"row justify-content-center \",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"col-2 mt-3\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"button\",\n              class: \"btn btn-primary\",\n              value: \"Login\",\n              onClick: this.validateuser.bind(this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/DB\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 18\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Admin/Documents/KRS/Application1/client/src/components/login.js"],"names":["React","Link","Redirect","axios","Login","Component","state","isUser","emailid","pwd","count","empid","empname","getEmailid","Event","setState","target","value","getPwd","validateuser","user","alert","post","then","response","ename","console","log","data","obj","sessionStorage","setItem","JSON","stringify","render","bind"],"mappings":"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","sourcesContent":["import 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\r\nimport React from 'react';\r\nimport {Link, Redirect} from 'react-router-dom';\r\nimport axios from 'axios';\r\nexport class Login extends React.Component {\r\n    state = {isUser:false,\r\n            emailid:\"\" ,\r\n            pwd:\"\",\r\n            count: 0,\r\n            empid : \"\",\r\n            empname:\"\"            \r\n    };\r\n    getEmailid=(Event)=>{\r\n        this.setState({emailid:Event.target.value});\r\n    }\r\n    getPwd=(Event)=>{\r\n        this.setState({pwd:Event.target.value});\r\n    }\r\n    validateuser(Event){\r\n        const user = { emailid :this.state.emailid,\r\n                       pwd:this.state.pwd,\r\n\r\n            };        \r\n        alert(user.emailid + \",\"+user.pwd);\r\n        axios.post('http://localhost:3001/UserValid',{\r\n        emailid :user.emailid, \r\n        pwd:user.pwd}).then((response)=>{\r\n            var empid = 0;\r\n            var ename = \"\";\r\n        console.log(response.data[0]);\r\n        var empid = response.data[0];\r\n        var empname = response.data[1];\r\n\r\n        this.setState({empname:empname});\r\n        this.setState({empid:empid});\r\n             \r\n        let obj = {empname : empname, empid : empid}\r\n        sessionStorage.setItem('userdata',JSON.stringify(obj));\r\n        (empid !== 0) ? this.setState({isUser:true}) : this.setState({isUser:false});\r\n        (this.state.isUser) ? this.setState({count:this.state.count=+1}) : alert(\"Try Again.....\");\r\n        console.log(this.state.count);\r\n        });\r\n    }\r\n    render(){\r\n        const user = this.state;\r\n    return(\r\n     (this.state.count<=0 && !this.state.isUser)? \r\n        <div id = \"root\" class=\"border w-50 mx-auto mt-5 border-2 justify-content-center rounded p-3\" >\r\n            <h3 class=\"mb-4\" >Welcome!</h3>\r\n            <form>\r\n                <div class=\"row p-3 \">\r\n                    <div class=\"col  mb-2 \">\r\n                        <div class=\"input-group\">\r\n                            <label class=\"frm_int input-group-text\"  for=\"\">Mail ID:</label>\r\n                            <input class=\"form-control\" type=\"email\" name = \"emailid\" placeholder=\"mail id\"\r\n                            onChange={this.getEmailid}/> \r\n                        </div>\r\n                    </div>\r\n                </div>           \r\n                <div class=\"row p-3\">\r\n                    <div class=\"col  mb-2 \">\r\n                        <div class=\"input-group\">\r\n                            <label class=\"frm_int input-group-text\"  for=\"\"> Password:</label>\r\n                            <input class=\"form-control\" type=\"password\" placeholder=\"Password\" name = \"pwd\" \r\n                            onChange={this.getPwd}/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row p-1\">\r\n                    <div class=\"col \">\r\n                        <Link to='/Registry'>Forgot Password</Link>                 \r\n                    </div>\r\n                </div>\r\n                <div class=\"row justify-content-center \">\r\n                    <div class=\"col-2 mt-3\">\r\n                        <input type=\"button\" class=\"btn btn-primary\" value= \"Login\" onClick={this.validateuser.bind(this)}/>                    \r\n                    </div>\r\n                </div>\r\n                <div>              \r\n                </div>\r\n            </form>\r\n        </div> : <Redirect to = '/DB' ></Redirect>\r\n        );\r\n    };\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}